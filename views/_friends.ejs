<section id="user-friends" class="bg-white rounded-lg shadow-md p-4 sticky top-20">
    <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
        <i class="fas fa-users mr-2 text-blue-500"></i>
        Friends
    </h3>
    
    <% if (friends && friends.length > 0) { %>
        <ul class="divide-y divide-gray-100">
            <% for(let friend of friends) { %>
                <li class="py-3 first:pt-0 last:pb-0" id="friend-<%= friend._id %>">
                    <div class="flex justify-between items-center">
                        <a href="/users/profile/<%= friend._id %>" class="flex items-center space-x-3 hover:bg-gray-50 p-2 rounded-md transition-colors duration-300">
                            <div class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-600">
                                <%= friend.name.charAt(0).toUpperCase() %>
                            </div>
                            <span class="font-medium text-gray-700"><%= friend.name %></span>
                        </a>
                        <button class="unfriend-btn text-gray-500 hover:text-red-500 transition-colors duration-300"
                                data-friend-id="<%= friend._id %>"
                                data-friend-name="<%= friend.name %>">
                            <i class="fas fa-user-minus"></i>
                        </button>
                    </div>
                </li>
            <% } %>
        </ul>
    <% } else { %>
        <p class="text-gray-500 text-center py-4">No friends yet</p>
    <% } %>
    
    <div class="mt-4 pt-3 border-t border-gray-100">
        <a href="/users/discover" class="flex items-center justify-center text-blue-500 hover:text-blue-600 transition-colors duration-300">
            <i class="fas fa-user-plus mr-1"></i>
            <span>Find More Friends</span>
        </a>
    </div>
</section>